# hassio-yandex2mqtt
Yandex2mqtt hassio addon

## О плагине
Плагин позволяет установить и использовать мост из Яндекс УД в MQTT. Репозиторий самого моста:
https://github.com/munrexio/yandex2mqtt
Там же указаны ссылки на статьи автора на хабре как его настраивать и как с ним работать. 

Сам плагин и скрипты сборки сделаны по мотивам:
https://github.com/danielwelch/hassio-zigbee2mqtt

## Установка
В Hassio перейти на вкладку Hass.io-> Add-on Store
Там в разделе Repositories добавить новый репозиторий по адресу https://github.com/gostest/hassio-yandex2mqtt

## Настройка
1. Необходимо настроить ssl, без этого ничего работать не будет. Хорошим решением будет использование аддона Let's Encrypt. Также необходимо использование статического ip-адреса либо DDNS-сервиса, как описано в статье munrexio.
ЗЫ. Кстати, если вы являетесь счастливым обладателем роутера mikrotik, то там есть встроенный DDNS. Надо зайти в IP->Cloud и в строке DNS будет доменное имя вашего ротуера.
2. Необходимо настроить mqtt. Есть большое количество mqtt аддонов для Hassio, выбирайте который больше нравится. В качестве адреса необходимо прописать внешний адрес сервера, на котором утановлен Hassio, 127.0.0.1 или localhost вероятно не заработают.
3. Порт я бы поставил отличный от 443. Я использую 4443 и соответственно порт форвардинг на роутере надо настроить на этот порт.

Все дальнейшие шаги можно почитать в описании настройки моста:
https://github.com/munrexio/yandex2mqtt
